# GitHub Actions ハンズオンメモ

### ハンズオン URL

1. [GitHub Actions を理解する](https://docs.github.com/ja/actions/learn-github-actions/understanding-github-actions)
1. [GitHub Actions のクイックスタート](https://docs.github.com/ja/actions/quickstart)
1. [Node.js の 継続的インテグレーション（CI） ハンズオン](https://docs.github.com/ja/actions/automating-builds-and-tests/building-and-testing-nodejs)

#### 参考 URL

- yaml ファイルのフォーマットについて確認できる ⇒ [ワークフローについて](https://docs.github.com/ja/actions/using-workflows/about-workflows?learn=getting_started&learnProduct=actions)
- ワークフローで使用できる構文の一覧 ⇒ [GitHub Actions のメタデータ構文](https://docs.github.com/ja/actions/creating-actions/metadata-syntax-for-github-actions#name)

## 学習の流れ

以下の順番で実施。

1. GitHub Actions を理解する
   - GitHub Actions とはどのような機能か全体概要を知る
1. GitHub Actions のクイックスタート
   - GitHub Actions での作業自動化を行うためのワークフローを実際に作成して体験する
1. Node.js の 継続的インテグレーション（CI） ハンズオン
   - Node.js プロジェクトを例にした継続的インテグレーション（CI）を体験する

## 1. GitHub Actions を理解する

GitHub Actions は継続的インテグレーションと継続的デリバリー (CI/CD) を自動で実施できるプラットフォーム。
ワークフローという GitHub Actions が自動で行う動作の命令を作成することで、指定した動作をトリガーにして様々な動作を自動実行させることができる。

例えば、「ソースコードが push された時」「プルリク作成されたとき」などのイベントをトリガーに、GitHub 上の仮想マシン（Linux、Windows、macOS がある）に GitHub リポジトリから pull して、静的解析して、ビルドして、エラーがあれば通知といった動作を自動化することができる。

ソースコードを push するだけであとのことはおまかせ状態にできるととても便利だと感じる。

## 2. GitHub Actions のクイックスタート

> GitHub Actions の機能を 5 分またはそれ以下で試すことができます。

とあったので、試してみた。

このプログラムは、Github リポジトリにお試し用のワークフロー(yaml ファイル)を作成し、リポジトリに対して push が発生した際にワークフローが動作することを見てみましょうという内容のものだった。

内容の詳細な説明はないが、指示通りに手を動かすことで特に困ることもなく GitHub Actions の動きを体感することができた。（全体通して 5 分とはいかなかったが）

- ワークフロー(yaml ファイル)の置き場所
- Github のどこに機能があり、どのように操作していくのか
- クイックスタート後、次の学び先へのリンク

## 3. Node.js の 継続的インテグレーション（CI） ハンズオン

クイックスタート後、次の学び先へのリンクに「Node.js のビルドとテスト」のテーマがあり、興味を持ったため試してみた。

まずテスト用に Node.js のプロジェクトを作成し、Github にソースコードを上げて下準備をした。
Node.js はハッカソンで使ったことがあるので、この部分は問題なし。

下準備後、このプログラムは以下の流れで進む。

- スターター ワークフローの説明
- スターター ワークフローの適用
- yaml ファイルの解説
  - 仮想マシン、Node.js バージョンの指定
  - npm の実行を指定

クイックスタートからいきなり難易度が跳ね上がったように感じたが、順を追って操作すれば問題なく進めていける。

- スターター ワークフローの説明  
  Node.js、Ruby、.NET など主要な環境のプロジェクト用に基本となるワークフローの雛形が共有されている。  
  これを使用することで、1 からワークフロー作成することなく、基本的なワークフローであればすぐに利用できる。  
  これをベースにカスタマイズして使用すると便利らしい。

  Node.js であれば、仮想マシンへの Node.js のインストールや使用する Node.js バージョンの指定などが準備されたフォーマットとして用意されていた。

- スターター ワークフローの適用  
  実際にスターター ワークフローをカスタマイズして、自分の Node.js プロジェクト用に適用する。
  Node.js のバージョンを 3 種類指定し、それぞれに対してビルドするように指定した。

> ■ 個人的に追加で試してみたこと  
>  このプログラムの流れにはないが、
> ビルドするだけではなく静的解析ツールも動かしてみようと思ったので、プロジェクトに eslint と prettier を package.json に追加し、ワークフローで仮想マシンにインストール出来るようにしてみた。

クイックスタートから一気に現実的な使用方法のハンズオンにレベルアップしたため、理解するのに時間がかかったが、より実際の使い方がイメージでき、有効性を感じることができた。  
さらに実用的に使うためには自動テストツールを実行させることが必要になると感じた。

ここでは継続的インテグレーションについて学習したが、継続的デリバリーも組み合わせることが出来るようなので、AWS 環境 に自動でデプロイする方法についても調べてみたい。
